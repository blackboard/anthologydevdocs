"use strict";(globalThis.webpackChunkanthology_dev_docs=globalThis.webpackChunkanthology_dev_docs||[]).push([[7215],{25727:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"blackboard/uef/Tutorials/communication-page-lvl-analytics","title":"UEF rendering based on UI item availability","description":"Introduction","source":"@site/docs/blackboard/uef/Tutorials/03-communication_page_lvl_analytics-id.md","sourceDirName":"blackboard/uef/Tutorials","slug":"/blackboard/uef/Tutorials/communication-page-lvl-analytics","permalink":"/docs/blackboard/uef/Tutorials/communication-page-lvl-analytics","draft":false,"unlisted":false,"editUrl":"https://github.com/blackboard/anthologydevdocs/tree/main/docs/blackboard/uef/Tutorials/03-communication_page_lvl_analytics-id.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"UEF rendering based on UI item availability","id":"communication-page-lvl-analytics","sidebar_position":3,"author":"Gokulakrishnan Raman","edited":"2024-10-11"},"sidebar":"documentationSidebar","previous":{"title":"Live Tutorials from past DevCons","permalink":"/docs/blackboard/uef/Tutorials/uef-tutorials"},"next":{"title":"LTI Launch context added in new Window Launches","permalink":"/docs/blackboard/uef/Tutorials/lti-launch"}}');var s=t(74848),a=t(28453);const l={title:"UEF rendering based on UI item availability",id:"communication-page-lvl-analytics",sidebar_position:3,author:"Gokulakrishnan Raman",edited:"2024-10-11"},r=void 0,o={},c=[{value:"Introduction",id:"introduction",level:2},{value:"Outline of page-level analytics-id to integration",id:"outline-of-page-level-analytics-id-to-integration",level:2},{value:"Batch Processing and Rate-limiting",id:"batch-processing-and-rate-limiting",level:2},{value:"Request Structure",id:"request-structure",level:2},{value:"Request Event",id:"request-event",level:3},{value:"Response Structure",id:"response-structure",level:2},{value:"Response event",id:"response-event",level:3},{value:"Page-Level analytics-id integration Workflow",id:"page-level-analytics-id-integration-workflow",level:2},{value:"Result Behavior Of Page-level analytics-id Integration:",id:"result-behavior-of-page-level-analytics-id-integration",level:2},{value:"Interface",id:"interface",level:3},{value:"Enum",id:"enum",level:3},{value:"Const:",id:"const",level:3}];function d(e){const n={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,s.jsx)(n.p,{children:"This enhancement to the UEF integration allows the framework to know if an analytics-id exists (or not) on the page, so should partners want to add functionality onto a page based on an elements' visibility they are sure of the object they want to target."}),"\n",(0,s.jsx)(n.h2,{id:"outline-of-page-level-analytics-id-to-integration",children:"Outline of page-level analytics-id to integration"}),"\n",(0,s.jsx)(n.p,{children:"In order to provide a number of key functionalities that are already being supported in Learn Original, Some partner integration need the ability to ask UEF about the presence of specific elements in the current focused panel and in view port on the page based on the analytics-id. The response will be a true or false whether the element is present on screen."}),"\n",(0,s.jsx)(n.h2,{id:"batch-processing-and-rate-limiting",children:"Batch Processing and Rate-limiting"}),"\n",(0,s.jsx)(n.p,{children:"All the requests received under one second will be batched, and a single response will be sent at the end of one second to its respective integration portal."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"If Single Integration - rate limiting to 20 requests / second."}),"\n",(0,s.jsx)(n.li,{children:"If Multiple Integration - rate limiting to 15 requests /second to each integration."}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"The timer will be initiated on any first request."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"request-structure",children:"Request Structure"}),"\n",(0,s.jsxs)(n.p,{children:["Two keys must be present in request JSON \u2192 ",(0,s.jsx)(n.strong,{children:"Type and AnalyticsIds."})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Type"})," \u2192 This key must contain the String value which indicates the request type and purpose of request."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"AnalyticsIds"})," \u2192 This key should have the list of analytics Id's for which the page component's presence will be checked in the current view port and in the active panel with 100% visibility."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["The type of this request event integration will always be ",(0,s.jsxs)(n.strong,{children:['"analytics',":visible",'"']})]}),"\n",(0,s.jsx)(n.p,{children:"Below is the example of the request structure"}),"\n",(0,s.jsx)(n.h3,{id:"request-event",children:"Request Event"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n"type":"analytics:visible",\n"analyticsIds":["analyticsId", "analyticsId", ...]\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"response-structure",children:"Response Structure"}),"\n",(0,s.jsxs)(n.p,{children:["Two keys will be present in the response JSON \u2192 ",(0,s.jsx)(n.strong,{children:"Type"})," and ",(0,s.jsx)(n.strong,{children:"Result"}),'. This response will have all "analyticsId" which was sent in the request event along with "isElementVisible" flag to indicate whether the requested analytic ID is present in the view port and in the active panel with 100% visibility or not.']}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Type"})," \u2192 This will have the String value that indicates the request type and the purpose of the request."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Result"})," \u2192 This will have two parameters \u2192 AnalyticsId and isElementVisible."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"AnalyticsId"})," \u2192 This key will have the analytics ID that was sent in the request event."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"isElementVisible"})," \u2192 This key will have either True/False that indicates whether the given analytics ID is visible in view port and in active panel with 100% visibility or not."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"response-event",children:"Response event"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "type": "analytics:visible",\n  "results" : [ {\n      "analyticsId": "analyticsId from UEF",\n      "isElementVisible": true/false\n    },\n    {\n      "analyticsId": "analyticsId from UEF",\n      "isElementVisible": true/false\n    } , ...\n  ]\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"page-level-analytics-id-integration-workflow",children:"Page-Level analytics-id integration Workflow"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Page-Level analytics-id integration Workflow",src:t(39639).A+"",width:"2724",height:"2436"})}),"\n",(0,s.jsx)(n.h2,{id:"result-behavior-of-page-level-analytics-id-integration",children:"Result Behavior Of Page-level analytics-id Integration:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Result Behavior Of Page-level analytics-id Integration",src:t(39004).A+"",width:"2924",height:"1822"})}),"\n",(0,s.jsx)(n.h3,{id:"interface",children:"Interface"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:"1.  IIntegrationPageAnalyticsRequest {\n\ttype: typeof ANALYTICS_VISIBLE_TYPE;\n\tanalyticsIds: string[];\n   }\n\n\n2. IIntegrationPageAnalyticsResult {\n   analyticsId: string;\n   isElementVisible: boolean;\n   }\n\n\n\n3. IIntegrationPageAnalyticsResponse {\n   type: typeof ANALYTICS_VISIBLE_TYPE;\n   Results: IIntegrationPageAnalyticsResult[];\n  }\n"})}),"\n",(0,s.jsx)(n.h3,{id:"enum",children:"Enum"}),"\n",(0,s.jsx)(n.p,{children:"IntegrationPageAnalytics"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"ANALYTICS_RATE_LIMIT = 20"}),"\n",(0,s.jsx)(n.li,{children:"MULTIPLE_INTEGRATION_ANALYTICS_RATE_LIMIT = 15"}),"\n",(0,s.jsx)(n.li,{children:"ANALYTICS_TIMEOUT = 1000"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"const",children:"Const:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["ANALYTICS_VISIBLE_TYPE = 'analytics",":visible","';"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>r});var i=t(96540);const s={},a=i.createContext(s);function l(e){const n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(a.Provider,{value:n},e.children)}},39004:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/communication_page_lvl_analytics_id_2-9154512eb2c2a102785815eb61a5e470.png"},39639:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/communication_page_lvl_analytics_id_1-97e4473746d126e8c99096146ce3f7ac.png"}}]);