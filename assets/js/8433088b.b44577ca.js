"use strict";(self.webpackChunkanthology_dev_docs=self.webpackChunkanthology_dev_docs||[]).push([[5351],{15680:(e,t,n)=>{n.d(t,{xA:()=>p,yg:()=>g});var o=n(96540);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=o.createContext({}),c=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},p=function(e){var t=c(e.components);return o.createElement(s.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},h=o.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=c(n),h=i,g=d["".concat(s,".").concat(h)]||d[h]||u[h]||r;return n?o.createElement(g,a(a({ref:t},p),{},{components:n})):o.createElement(g,a({ref:t},p))}));function g(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,a=new Array(r);a[0]=h;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[d]="string"==typeof e?e:i,a[1]=l;for(var c=2;c<r;c++)a[c]=n[c];return o.createElement.apply(null,a)}return o.createElement.apply(null,n)}h.displayName="MDXCreateElement"},110:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var o=n(58168),i=(n(96540),n(15680));const r={title:"Working with Deep Linking 2.0",id:"deep-linking",published:"",edited:"2024-09-25",sidebar_position:1},a=void 0,l={unversionedId:"blackboard/lti/1.3/dl/deep-linking",id:"blackboard/lti/1.3/dl/deep-linking",title:"Working with Deep Linking 2.0",description:"Now that you have a working Core LTI 1.3 launch workflow up and running (if not, you can see LTI Message Launch Flow for information on how to set up the core integration), we can focus on other parts of the LTI Advantage specification, especially Deep Linking 2.0.",source:"@site/docs/blackboard/lti/1.3/dl/01-getting-started.md",sourceDirName:"blackboard/lti/1.3/dl",slug:"/blackboard/lti/1.3/dl/deep-linking",permalink:"/docs/blackboard/lti/1.3/dl/deep-linking",draft:!1,editUrl:"https://github.com/blackboard/anthologydevdocs/tree/main/docs/blackboard/lti/1.3/dl/01-getting-started.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"Working with Deep Linking 2.0",id:"deep-linking",published:"",edited:"2024-09-25",sidebar_position:1},sidebar:"documentationSidebar",previous:{title:"Sample JWT content",permalink:"/docs/blackboard/lti/1.3/core/jwt-contents"},next:{title:"Course Content Types for Deep Linking 2.0",permalink:"/docs/blackboard/lti/1.3/dl/dl-types"}},s={},c=[{value:"What is?",id:"what-is",level:2},{value:"How it works",id:"how-it-works",level:2},{value:"The steps",id:"the-steps",level:2},{value:"LTI launch",id:"lti-launch",level:3},{value:"User selection",id:"user-selection",level:3},{value:"Content creation",id:"content-creation",level:3},{value:"Content display",id:"content-display",level:3}],p={toc:c},d="wrapper";function u(e){let{components:t,...r}=e;return(0,i.yg)(d,(0,o.A)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,i.yg)("p",null,"Now that you have a working Core LTI 1.3 launch workflow up and running (if not, you can see ",(0,i.yg)("a",{parentName:"p",href:"/docs/blackboard/lti/1.3/core/core-launch"},"LTI Message Launch Flow")," for information on how to set up the core integration), we can focus on other parts of the LTI Advantage specification, especially Deep Linking 2.0."),(0,i.yg)("h2",{id:"what-is"},"What is?"),(0,i.yg)("p",null,"Deep Linking 2.0 is the specification meant to allow users to create content items within a course content area, pointing to a specific resource on the tool provider instead of the entire tool."),(0,i.yg)("p",null,"An example of this could be a tool that provides books to students, a deep linking integration would allow the instructor to select specific pages from the book and add a link to them in the course content area instead of linking the entire book."),(0,i.yg)("h2",{id:"how-it-works"},"How it works"),(0,i.yg)("p",null,"Deep Linking leverages the initial Core LTI 1.3 launch to provide an authentication framework (since the Core LTI 1.3 launch must be authenticated and Learn verifies that the user is allowed to launch the tool) and provides a way for instructors or content creators to access specific the tool's resources, which can be selected and sent back to Learn using a JWT token with the properties describing the content (title, display type, URL, etc.). The visual workflow of the requests needed to create a deep linking item is the following:"),(0,i.yg)("p",null,(0,i.yg)("img",{alt:"Deep linking 2.0 flow diagram",src:n(29584).A,width:"1115",height:"798"})),(0,i.yg)("h2",{id:"the-steps"},"The steps"),(0,i.yg)("h3",{id:"lti-launch"},"LTI launch"),(0,i.yg)("p",null,"This launch follows, as mentioned, the Core LTI 1.3 launch that is covered in the ",(0,i.yg)("a",{parentName:"p",href:"/docs/blackboard/lti/1.3/core/core-launch"},"LTI Message Launch Flow")," section, however, the body of the JWT token is slightly different from the Message Launch Flow."),(0,i.yg)("p",null,"Below is a sample of a Deep Linking request sent from Blackboard Learn:"),(0,i.yg)("details",null,(0,i.yg)("summary",null,"Deep linking request sample"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "sub": "561ac4762b5142a0b1d3ed1aa40789c1",\n  "https://purl.imsglobal.org/spec/lti/claim/deployment_id": "86e8b331-a6cd-486c-b006-9893c749e242",\n  "https://purl.imsglobal.org/spec/lti/claim/version": "1.3.0",\n  "https://purl.imsglobal.org/spec/lti-ags/claim/endpoint": {\n    "lineitems": "https://learn.blackboard.com/learn/api/v1/lti/courses/_4_1/lineItems",\n    "scope": [\n      "https://purl.imsglobal.org/spec/lti-ags/scope/lineitem",\n      "https://purl.imsglobal.org/spec/lti-ags/scope/result.readonly",\n      "https://purl.imsglobal.org/spec/lti-ags/scope/score",\n      "https://purl.imsglobal.org/spec/lti-ags/scope/lineitem.readonly"\n    ]\n  },\n  "iss": "https://blackboard.com",\n  "locale": "en-US",\n  "https://purl.imsglobal.org/spec/lti/claim/tool_platform": {\n    "name": "Blackboard, Inc.",\n    "description": "Blackboard, Inc.",\n    "guid": "83656022865f4f47a898b986399a01a8",\n    "product_family_code": "BlackboardLearn",\n    "version": "3900.93.0-rel.59+7d3ba1c",\n    "url": "https://learn.blackboard.com/",\n    "contact_email": "dev@localhost"\n  },\n  "https://purl.imsglobal.org/spec/lti/claim/lis": {\n    "person_sourcedid": "administrator",\n    "course_section_sourcedid": "course-link"\n  },\n  "exp": 1727291502,\n  "iat": 1727287902,\n  "email": "dev@localhost",\n  "https://purl.imsglobal.org/spec/lti-nrps/claim/namesroleservice": {\n    "context_memberships_url": "https://learn.blackboard.com/learn/api/v1/lti/external/namesandroles/_4_1",\n    "scope": [\n      "https://purl.imsglobal.org/spec/lti-nrps/scope/contextmembership.readonly"\n    ],\n    "service_versions": ["2.0"]\n  },\n  "given_name": "Blackboard",\n  "https://purl.imsglobal.org/spec/lti/claim/roles": [\n    "http://purl.imsglobal.org/vocab/lis/v2/membership#Instructor",\n    "http://purl.imsglobal.org/vocab/lis/v2/system/person#Administrator",\n    "http://purl.imsglobal.org/vocab/lis/v2/membership#Administrator",\n    "http://purl.imsglobal.org/vocab/lis/v2/institution/person#Staff"\n  ],\n  "nonce": "34f3c275-f24b-40df-81fa-8796eaa3591b",\n  "https://purl.imsglobal.org/spec/lti/claim/target_link_uri": "https://dev.writingcode.dev/deepLinkOptions",\n  "https://purl.imsglobal.org/spec/lti/claim/context": {\n    "id": "ad83286ea6494b799bd1a5d57436d7d8",\n    "label": "course-link",\n    "title": "Course Link",\n    "type": ["http://purl.imsglobal.org/vocab/lis/v2/course#CourseOffering"]\n  },\n  "https://purl.imsglobal.org/spec/lti/claim/resource_link": {\n    "id": "_14_1"\n  },\n  "https://purl.imsglobal.org/spec/lti-gs/claim/groupsservice": {\n    "context_groups_url": "https://learn.blackboard.com/learn/api/v1/lti/courses/_4_1/groups",\n    "context_group_sets_url": "https://learn.blackboard.com/learn/api/v1/lti/courses/_4_1/groupsets",\n    "scope": [\n      "https://purl.imsglobal.org/spec/lti-gs/scope/contextgroup.readonly"\n    ],\n    "service_versions": ["1.0"]\n  },\n  "aud": "baaf7da8-f99a-42ca-a72f-292cfd0eb27d",\n  "https://purl.imsglobal.org/spec/lti/claim/message_type": "LtiDeepLinkingRequest",\n  "name": "Blackboard Administrator",\n  "https://purl.imsglobal.org/spec/lti-dl/claim/deep_linking_settings": {\n    "accept_copy_advice": false,\n    "data": "_4_1::_14_1::2::false::true::_13_1::e7a75af804fd4d9fb76812c7cde8ca70::false::false",\n    "accept_types": ["ltiResourceLink", "link"],\n    "accept_multiple": true,\n    "accept_presentation_document_targets": ["iframe", "window"],\n    "accept_media_types": "*/*",\n    "auto_create": true,\n    "deep_link_return_url": "https://learn.blackboard.com/webapps/blackboard/controller/lti/v2/deeplinking"\n  },\n  "family_name": "Administrator",\n  "https://blackboard.com/lti/claim/one_time_session_token": "3d1a9e7afc74456eb084f01bf0470bb5",\n  "https://blackboard.com/webapps/foundations-connector/foundations-ids": {\n    "site-id": "c97ad917-97a9-4bc4-9610-687f355647e3",\n    "tenant-id": "92446862-2bdc-443d-88e8-2054de750557"\n  }\n}\n'))),(0,i.yg)("h3",{id:"user-selection"},"User selection"),(0,i.yg)("p",null,"Once the core launch is completed, the user will see your tool's UI, where content can be selected and added to the Course Content section. This process runs directly on your tool's systems and is under no control of Learn (apart from showing your tool within an iframe)."),(0,i.yg)("h3",{id:"content-creation"},"Content creation"),(0,i.yg)("p",null,"Once the user has selected the content that will be added to the course content section, your tool will redirect to the ",(0,i.yg)("inlineCode",{parentName:"p"},"deep_link_return_url")," URI included in the JWT token sent when the user launched the tool (under the claim ",(0,i.yg)("inlineCode",{parentName:"p"},"https://purl.imsglobal.org/spec/lti-dl/claim/deep_linking_settings"),") including a new JWT token signed by your tool that contains the information of the content to be created."),(0,i.yg)("h3",{id:"content-display"},"Content display"),(0,i.yg)("p",null,"When Learn receives the JWT token from your tool, it will first verify that the signature is valid by querying the JWKS endpoint of your tool and getting the key used to sign the token, as indicated on the header of it. If the validation is correct, Learn will proceed with the creation of the item and will display the content in the location selected (the folder from which the LTI tool was launched for Original Course Navigation or the location where you clicked the plus button (+) on Ultra Course Navigation)"))}u.isMDXComponent=!0},29584:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/deeplinking-flow-52674d66cbbe899f1581ceb5edd2215e.png"}}]);