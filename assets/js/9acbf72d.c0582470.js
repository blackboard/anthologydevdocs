"use strict";(self.webpackChunkanthology_dev_docs=self.webpackChunkanthology_dev_docs||[]).push([[4034],{4137:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>m});var n=a(7294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var d=n.createContext({}),l=function(e){var t=n.useContext(d),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},u=function(e){var t=l(e.components);return n.createElement(d.Provider,{value:t},e.children)},p="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,i=e.originalType,d=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=l(a),c=o,m=p["".concat(d,".").concat(c)]||p[c]||h[c]||i;return a?n.createElement(m,r(r({ref:t},u),{},{components:a})):n.createElement(m,r({ref:t},u))}));function m(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=a.length,r=new Array(i);r[0]=c;var s={};for(var d in t)hasOwnProperty.call(t,d)&&(s[d]=t[d]);s.originalType=e,s[p]="string"==typeof e?e:o,r[1]=s;for(var l=2;l<i;l++)r[l]=a[l];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},7552:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>r,default:()=>f,frontMatter:()=>i,metadata:()=>s,toc:()=>l});var n=a(7462),o=(a(7294),a(4137));const i={title:"Student query model metadata",id:"studentapi-querymodel-metadata",sidebar_position:4,author:"Jim Burns",published:"2024-06-26",edited:"2024-06-26"},r=void 0,s={unversionedId:"rest-apis/student/best-practices/studentapi-querymodel-metadata",id:"rest-apis/student/best-practices/studentapi-querymodel-metadata",title:"Student query model metadata",description:"The student data model is comprised of hundreds and hundreds of entities. One of the fundamental requirements for integration partners is to be able to retrieve data out of the query model. There are numerous OData controller methods implemented that can be used to retrieve data. However, the purpose of these methods is to supply the needed data for the web client UI pages. Thus, the design and function of these methods are extremely prescribed. In most cases, when there is a need to retrieve data from Anthology Student, the solution will be to write a custom OData query using the ds/odata endpoint. To maximize the power of this capability, it is important to understand the query data model and specifically, the navigation properties available on each entity in the model. The Data Views feature in the Anthology Student web client is a very powerful tool and can be very helpful in gaining an increased understanding of the query data model. However, one of the limitations in this tool is that many navigation properties for entities are not visible. The only navigation properties that are exposed in the Data Views UI are ones that have a one to one multiplicity with the base entity. Navigation properties that have a one to many multiplicity are hidden from the UI. In order to see a complete inventory of all navigation properties available in the query model, you can use an endpoint that returns the complete metadata for the query model.",source:"@site/docs/rest-apis/student/best-practices/StudentQueryModelMetadata.md",sourceDirName:"rest-apis/student/best-practices",slug:"/rest-apis/student/best-practices/studentapi-querymodel-metadata",permalink:"/docs/rest-apis/student/best-practices/studentapi-querymodel-metadata",draft:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"Student query model metadata",id:"studentapi-querymodel-metadata",sidebar_position:4,author:"Jim Burns",published:"2024-06-26",edited:"2024-06-26"},sidebar:"documentationSidebar",previous:{title:"Tips for using the Create and SaveNew API operations",permalink:"/docs/rest-apis/student/best-practices/create-savenew-bestpractices"},next:{title:"Anthology Student Service Catalog",permalink:"/docs/rest-apis/student/service-catalog/service-catalog"}},d={},l=[{value:"Metadata endpoint",id:"metadata-endpoint",level:2},{value:"Metadata sample output",id:"metadata-sample-output",level:2}],u=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.kt)("div",t)},p=u("VersioningTracker"),h=u("Ctrl"),c=u("AuthorBox"),m={toc:l},y="wrapper";function f(e){let{components:t,...r}=e;return(0,o.kt)(y,(0,n.Z)({},m,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)(p,{frontMatter:i,mdxType:"VersioningTracker"}),(0,o.kt)("p",null,"The student data model is comprised of hundreds and hundreds of entities. One of the fundamental requirements for integration partners is to be able to retrieve data out of the query model. There are numerous OData controller methods implemented that can be used to retrieve data. However, the purpose of these methods is to supply the needed data for the web client UI pages. Thus, the design and function of these methods are extremely prescribed. In most cases, when there is a need to retrieve data from Anthology Student, the solution will be to write a custom OData query using the ds/odata endpoint. To maximize the power of this capability, it is important to understand the query data model and specifically, the navigation properties available on each entity in the model. The Data Views feature in the Anthology Student web client is a very powerful tool and can be very helpful in gaining an increased understanding of the query data model. However, one of the limitations in this tool is that many navigation properties for entities are not visible. The only navigation properties that are exposed in the Data Views UI are ones that have a one to one multiplicity with the base entity. Navigation properties that have a one to many multiplicity are hidden from the UI. In order to see a complete inventory of all navigation properties available in the query model, you can use an endpoint that returns the complete metadata for the query model."),(0,o.kt)("h2",{id:"metadata-endpoint"},"Metadata endpoint"),(0,o.kt)("p",null,"In order to retrieve the metadata for the query model, append 'ds/odata/$metadata' to the base URL that is used to load the web client application. The output from this will be the metadata for the entire query model. Since a large amount of data is being returned, the execution time for returning the metadata output can be lengthy. Occasionally, you may get a timeout error. If this occurs, then just try issuing the URL again."),(0,o.kt)("p",null,"Example URL: ",(0,o.kt)("a",{parentName:"p",href:"https://sisclientweb-900065.campusnexus.cloud/ds/odata/$metadata"},"https://sisclientweb-900065.campusnexus.cloud/ds/odata/$metadata")),(0,o.kt)("h2",{id:"metadata-sample-output"},"Metadata sample output"),(0,o.kt)("p",null,"The first page of the metadata endpoint response is below."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Query Model Metadata",src:a(951).Z,width:"1920",height:"1030"})),(0,o.kt)("p",null,"To locate the metadata for a given entity in the model, use the Find operation ",(0,o.kt)(h,{mdxType:"Ctrl"}),' F and then enter "EntityType Name=#####" in the search box replacing ##### with the name of the entity you are searching for.'),(0,o.kt)("p",null,"The screen shots below show the metadata for the StudentEnrollmentPeriod entity. This is one of the larger entities in the data model. Notice that there is a section that lists the name and type of every property defined for the entity."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Query Model Metadata",src:a(6498).Z,width:"1152",height:"668"})),(0,o.kt)("p",null,"The next area of the output lists all of the navigation properties defined for the entity. There are dozens of navigation properties defined for the StudentEnrollmentPeriod entity. The Name attribute is the navigation property name. This is the name that would be specified for the $expand argument in the OData query. The Type attribute on each Navigation Property element defines the entity in the model that this navigation property will expand to when it is referenced within the odata query being written. If the multiplicity is one to many, the type will be specified as Collection(entity name). Otherwise the multiplicity is one to one."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Query Model Metadata",src:a(8350).Z,width:"1152",height:"672"})),(0,o.kt)("p",null,"In conclusion, the Data Views feature in the web client UI can be utilized as a starting point for building custom odata queries and visually seeing available properties and relationships between entities. However, it is important to always review the output from the $metadata endpoint to ensure you are seeing the complete model metadata including ALL available navigation properties for a given entity."),(0,o.kt)(c,{frontMatter:i,mdxType:"AuthorBox"}))}f.isMDXComponent=!0},951:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/StudentQueryModelMetadata1-af0c8a2bcbe76ca7bbb6712b84cd1657.png"},6498:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/StudentQueryModelMetadata2-75d46b676d9273e56db69c0c9592555a.png"},8350:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/StudentQueryModelMetadata3-f82541660adaa15b960c6239b2305f77.png"}}]);