<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-lti/tutorials/lti-implementation-guide" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">LTI 1.3 Tool Implementation Guide | Anthology Developer Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.anthology.com/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.anthology.com/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://docs.anthology.com/docs/lti/tutorials/lti-implementation-guide"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="LTI 1.3 Tool Implementation Guide | Anthology Developer Documentation"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.anthology.com/docs/lti/tutorials/lti-implementation-guide"><link data-rh="true" rel="alternate" href="https://docs.anthology.com/docs/lti/tutorials/lti-implementation-guide" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.anthology.com/docs/lti/tutorials/lti-implementation-guide" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Anthology Developer Documentation RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Anthology Developer Documentation Atom Feed"><link rel="stylesheet" href="/assets/css/styles.8cbe4743.css">
<link rel="preload" href="/assets/js/runtime~main.5378dcee.js" as="script">
<link rel="preload" href="/assets/js/main.debd867b.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#262626;color:#d5d5d5" role="banner"><div class="content_knG7 announcementBarContent_xLdY">ðŸš¨ Please remember: The Developer Portal has an optional maintenance window scheduled every month on the Tuesday of the second week</div></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/ANTHOLOGY-Logo-RGB.svg" alt="Anthology Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/ANTHOLOGY-Logo-RGB.svg" alt="Anthology Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">anthology</b></a><a class="navbar__item navbar__link" href="/docs/site-intro">Documentation</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/search?q=org%3Ablackboard+blackboard%2FBBDN-" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/site-intro">Welcome to our Developer Documentation!</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/developer-portal/start-here">Developer Portal</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/rest-apis/start-here">REST APIs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/lti/introduction">LTI</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/lti/introduction">introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/lti/getting-started-with-lti">Getting Started With LTI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/lti/lti-registration-deployment">Sanctioned LTI Registration and Deployment with Learn</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/lti/registration-deployment">LTI Registration and Deployment with Learn</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/lti/lti-deep-linking">LTI Advantage - Sample JSON</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/lti/turn-on-all-switches">LTI In Learn - Turn On All The Switches</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/lti/core/id-token">Core</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/lti/migrating/migrating-from-lt1.1-to-lti1.3">Migrating</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/lti/proctoring/proctoring-service-integration">Proctoring</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/lti/tutorials/develop-lti-advantage">Tutorials</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/lti/tutorials/develop-lti-advantage">Developing an LTI 1.3/Advantage Solution - Recordings and Resources</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/lti/tutorials/lti-implementation-guide">LTI 1.3 Tool Implementation Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/lti/tutorials/names-and-roles">LTI Advantage - Names and Roles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/lti/tutorials/pylti13">Using the pyLTI1p3 Library with Learn</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/lti/tutorials/migrating-testing-tool">LTI 1.3/Advantage - 4-Part Webinar</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/standards/standards-intro">Standards</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/partners/partners-become_a_partner">Partners</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/community/community-intro">Community</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">LTI</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Tutorials</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">LTI 1.3 Tool Implementation Guide</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>LTI 1.3 Tool Implementation Guide</h1></header><div class="tracker_container_KhwX"><p class="date_dFdR">Published:Â <!-- -->Not Available</p><p class="date_dFdR">Last Update:<!-- --> <!-- -->Not Available</p><p>Â </p></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">â€‹</a></h3><p>Implementing an LTI 1.3 + Advantage tool is involved, but we&#x27;ll break down the steps here. There are many good resources
for building an LTI 1.3 tool as well:</p><ul><li><a href="https://www.imsglobal.org/spec/lti/v1p3/impl" target="_blank" rel="noopener noreferrer">IMS LTI Implementation Guide</a></li><li><a href="https://github.com/IMSGlobal/ltibootcamp" target="_blank" rel="noopener noreferrer">LTI Bootcamp Resources</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-lti">What is LTI?<a href="#what-is-lti" class="hash-link" aria-label="Direct link to What is LTI?" title="Direct link to What is LTI?">â€‹</a></h3><p>At the end of the day all LTI is is a hyperlink from one web application (a Learning Management System or Virtual Learning Environment, called a Platform in the LTI specs) to another web application, called a Tool. The tool is normally hosted at a different domain and often created and supported by another vendor or the learning institution.</p><p>The difference with LTI from a regular hyperlink is it includes data such as the user making the request, the course context and possibly information about the resource (e.g., assignment, discussion, book chapter). For this reason an LTI message must be sent as an HTTP FORM POST to the receiving web application.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="security">Security<a href="#security" class="hash-link" aria-label="Direct link to Security" title="Direct link to Security">â€‹</a></h3><p>Why is LTI complicated if all it is is a hyperlink with data? The answer is: security.</p><p>A tool cannot blindly receive an HTTP POST with data from just anywhere. It needs to know who is sending that data and that it can trust the sender. A security contract must be established between the learning institution hosting the LMS and the tool. Additionally, because all LTI traffic is being transfered via a web browser, that traffic needs to be secured, both from an encryption standpoint as well as from a request forgery standpoint.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="cross-site-request-forgery">Cross-site Request Forgery<a href="#cross-site-request-forgery" class="hash-link" aria-label="Direct link to Cross-site Request Forgery" title="Direct link to Cross-site Request Forgery">â€‹</a></h4><p>When a browser-based application has links that a user can click on to make something happen, there is an inherent risk of a cross-site request forgery attack, often abbreviated as CSRF or XSRF. If you are logged into your bank account&#x27;s web site and they have a link or a URL that allows you to transfer money from one account to another, you run the risk of a malicious party offering you a link via email or social media that could get you to transfer money from your account to accounts you don&#x27;t intend to send money.</p><p>In the world of teaching and learning, with an LTI tool link, there exists the possibility that a malicious user could offer you a link via email or social media to get you to act on their behalf, such as take a quiz or buy a book. We&#x27;ll soon see how the LTI specs prevent this sort of attack.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="encryption">Encryption<a href="#encryption" class="hash-link" aria-label="Direct link to Encryption" title="Direct link to Encryption">â€‹</a></h4><p>Sensitive personal data are sent in LTI messages, so those data must be encrypted and LTI requires the use of TLS 1.2 or higher protocol from the browser. The days of insecure http transport are over. You must run your tool behind SSL supporting the TLS 1.2 or higher protocol.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="authentication">Authentication<a href="#authentication" class="hash-link" aria-label="Direct link to Authentication" title="Direct link to Authentication">â€‹</a></h4><p>A tool needs to have a trust relationship with any LMS sending them an LTI message. They can&#x27;t just accept a message from anyone. Messages must be signed by the sending party and that signature must be validated by the receiving party. The solution the IMS Global has adopted is to use OAuth 2, OpenID Connect, JSON Web Tokens (JWT), and asymmetric public/private key pairs. These are all industry standard specifications for security, and LTI builds upon those.</p><p>When a platform sends a message it packages it up as a JSON Web Token (<a href="https://jwt.io" target="_blank" rel="noopener noreferrer">JWT</a>) and signs the token with its private key that it has minted and stores securely. The platform publishes its public key at a publicly-accessibly URL and the tool uses that public key to validate the signer of the message.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="registration-information">Registration Information<a href="#registration-information" class="hash-link" aria-label="Direct link to Registration Information" title="Direct link to Registration Information">â€‹</a></h3><p>In order to achieve the security objectives, there are some pieces of information that must be exchanged between the platform and the tool. This is the security contract.</p><p>The platform must receive the following information from the tool:</p><ul><li>The fully-qualified domain name(s) where the tool is hosted, e.g., example.com</li><li>The OIDC Login URI - a URL to the tool&#x27;s endpoint for initiating the 3rd-party initiated login flow, which protects agains CSRF. See the <a href="https://openid.net/specs/openid-connect-core-1_0.html#ThirdPartyInitiatedLogin" target="_blank" rel="noopener noreferrer">OIDC 3rd-party intiated login specification</a>.</li><li>One or more Redirect URIs - a URL where the tool will receive the LTI FORM POST with the id_token (JWT) containing the LTI message payload. Note, the redirect URIs must use the fully-qualified domain names referenced above.</li><li>JWKS URL - The URL for the tool&#x27;s public key set. If the tool is going to send messages to the platform, such as a Deep Linking response or a request for an OAuth access token, then the tool must sign those messages with a private key that it has minted, and provide the public key associated with that private key. This is the asymmetric part mentioned above. See <a href="https://tools.ietf.org/id/draft-ietf-jose-json-web-key-00.html" target="_blank" rel="noopener noreferrer">https://tools.ietf.org/id/draft-ietf-jose-json-web-key-00.html</a> for more information.</li><li>A signing algorithm, e.g., RS-256 or RS-512. Both sides need to agree on the algorithm to sign and verify messages.</li></ul><p>The tool must receive and store for later use the following information from the platform:</p><ul><li>Issuer - the issuer of the credentials. In Learn&#x27;s case it is always <a href="https://blackboard.com" target="_blank" rel="noopener noreferrer">https://blackboard.com</a></li><li>Client ID - in Learn this is labeled the Application ID. An issuer can have one or more client IDs associated with it.</li><li>Public JWKS URL - the JWKS URL of the platform (Learn in this case) with which the tool validates the signature of incoming LTI messages</li><li>OAuth 2 Token URL - the URL of the platform&#x27;s OAuth 2 token issuer for use when making LTI service calls, such as for Assignment and Grades, or Names and Roles.</li><li>OIDC Auth Request URL - the URL the tool must redirect back to after an OIDC login request. This is part of the OIDC login flow for protecting agains CSRF attacks</li><li>Deployment ID - a single client ID can have one or more deployments, so tools must track each of those deployments. This is an extension created by the LTI specification.</li></ul><p>With Learn you will also receive an Application Key and and Application Secret. Store these securely. These are what you use if you want to use the Learn public REST API.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lti-message-launch-flow">LTI Message Launch Flow<a href="#lti-message-launch-flow" class="hash-link" aria-label="Direct link to LTI Message Launch Flow" title="Direct link to LTI Message Launch Flow">â€‹</a></h2><p>We have covered the information the two parties need to exchange and why that information is needed, at a high level. Now we look at the specifics of implementing the reception of an LTI launch by a tool from a platform.</p><p>The UML sequence diagram below shows all the steps, including some optional ones, for implementing the reception of an LTI message launch. We&#x27;ll break each step down in words.</p><p><img loading="lazy" alt="LTI Launch Sequence" src="/assets/images/lti-launch-sequence-76ffacb6a6a800c5a927e9fece1ed79d.png" width="1443" height="1300" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="lti-launch">LTI Launch<a href="#lti-launch" class="hash-link" aria-label="Direct link to LTI Launch" title="Direct link to LTI Launch">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="oidc-login">OIDC Login<a href="#oidc-login" class="hash-link" aria-label="Direct link to OIDC Login" title="Direct link to OIDC Login">â€‹</a></h4><p>When a user clicks on an LTI link within Learn the Learn server receives a GET request from the browser with information about that LTI link. Once it loads the tool configuration associated with that link the first thing it does is initiate the OIDC Login request with a browser redirect to the registered OIDC Login URI provided by the tool. It passes some information along with the request as query parameters.</p><p>The data sent by the platform on the OIDC login are:</p><ul><li>issuer</li><li>login_hint - an opaque value to the tool that must be returned back</li><li>target_link_uri - the URI configured by the tool for this LTI link</li><li>lti_message_hint - an opaque value to the tool that must be returned back</li><li>lti_deployment_id - this is optional, but Learn always sends it</li><li>client_id - this is optional, but Learn always sends it</li><li>lti_storage_target - for use if cookies aren&#x27;t possible</li></ul><p>The tool must then redirect or post back to the registered OIDC Authentication Request URI provided by the platform, including a Redirect URI (which must be pre-registered) and a state value, along with the other values passed in by the platform. The Redirect URI declares where the tool wants the subsequent LTI launch to go, and the state is what protects against CSRF. The state should be saved in a cookie, so the tool can verify that the initiator of the request is the same browser that sends the LTI message launch. If a cookie cannot work because of browser restrictions preventing setting of cookies by 3rd parties in iframes, then another option must be pursued. There is a new spec coming soon to help with that.</p><p>The fields the tool must send back are:</p><ul><li>response_type=id_token</li><li>scope=open_id</li><li>login_hint - that was passed in on the login request</li><li>lti_message_hint - that was passed in on the login request</li><li>state - a value the tool generates for protecting against CSRF</li><li>nonce - a value the tool generates to protect against duplicate requests</li><li>redirect_uri - a pre-registered URL the tool wants the subsequent LTI POST to be made</li><li>client_id - the client ID of this registration</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="receive-jwt">Receive JWT<a href="#receive-jwt" class="hash-link" aria-label="Direct link to Receive JWT" title="Direct link to Receive JWT">â€‹</a></h4><p>The platform receives the OIDC authentication request from the tool and validates that the redirect URI is registered. It then builds the id_token (JWT) that contains the LTI payload (user, course, resource, etc.) and signs it with its private key. The platform then auto-submits a FORM with the POST method to the redirect URI the tool specified with two form parameters:</p><ul><li>id_token - the JWT</li><li>state - the state the tool passed to the platform in the OIDC login response</li></ul><p>The tool receives this FORM POST from the browser and the first thing it should do is validate the state is what it stored in the cookie. If it doesn&#x27;t match the tool should reject the request.</p><p>The next step is to unpack the JWT and validate the signature. JWTs are comprised of three Base64-encoded strings separated by the period (.) sign. The first part is the header which contains the key ID (kid) and signing algorithm. The second part is the payload in JSON format, and it contains the issuer (iss), client ID (aud), user ID (sub) and other information about the launch. The tool must look up the platform configuration for that issuer/client ID/deployment ID combination and get the platform&#x27;s public key from the registered public key URL, using the kid in the JWT header for selecting the particular public key the platform requires. The third part is the signature, which normally the tool code won&#x27;t work with directly.</p><p>The tool then uses a library of their choosing to validate the signature of the JWT. If the signature is valid then the tool can proceed to process the rest of the JWT information and render its UI with the information it has about the LTI message.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="optional-steps">Optional Steps<a href="#optional-steps" class="hash-link" aria-label="Direct link to Optional Steps" title="Direct link to Optional Steps">â€‹</a></h4><p>There are two optional steps in the sequence diagram above.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="learn-rest-token">Learn REST Token<a href="#learn-rest-token" class="hash-link" aria-label="Direct link to Learn REST Token" title="Direct link to Learn REST Token">â€‹</a></h5><p>If your tool is going to use the Learn public REST API in order to get or set information it can&#x27;t via LTI then it should retrive a Learn OAuth 2 access token at this time and cache it. There are choices as to what OAuth 2 flow you can use, so please refer to this document on how to <a href="/docs/rest-apis/learn/getting-started/first-steps">retrieve a Learn OAuth 2 access token</a>. In the diagram above we show using the AuthCode flow as its the most common for UI-based work where you want the API call to be done on behalf of the interacting user. See this document on using <a href="/docs/rest-apis/learn/getting-started/3lo">three-legged oauth</a>.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="lti-rest-token">LTI Rest Token<a href="#lti-rest-token" class="hash-link" aria-label="Direct link to LTI Rest Token" title="Direct link to LTI Rest Token">â€‹</a></h5><p>If your tool wants to take advantage of the LTI services, such as Assignment &amp; Grades, or Names &amp; Roles, then you&#x27;ll need to retrieve an LTI access token. This token is of a different format and uses a different security model than the Learn public API.</p><p>You&#x27;ll need to construct a signed (with your private key) JWT and post that to the OAuth 2 Token URL registered with the tool. If all is well you will receive an access token back, which you should cache, and use for making service calls back to Learn. We&#x27;ll cover making service calls in a later section.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lti-deep-linking">LTI Deep Linking<a href="#lti-deep-linking" class="hash-link" aria-label="Direct link to LTI Deep Linking" title="Direct link to LTI Deep Linking">â€‹</a></h2><p>LTI Deep Linking is a UI flow that allows a user, often an instructor, to launch from the platform to the tool, via the browser, and display a UI from the tool from which to select or create content that will end up back in the platform. For example, you may wish to include links to publisher content in the course outline. You may wish to embed an instructional video in the rich text editor of a discussion or assignment. You may wish to create an assignment via a plagiarism detection service and include that in a learning module. There are unlimited use cases for deep linking. The key point to understand is that it&#x27;s about getting content from a 3rd party LTI provider into the Learning Management System of your choice. Rather than having an instructor copy and paste URLs the tool vendor provides, which is the old way of doing things, deep linking allows the instructor (or student, in the case of submitting an assignment or contributing to a discussion) to select content via the tool&#x27;s browser-based UI.</p><p>An LTI Deep Linking launch is much like a Resource Link launch, except the message type is different, and you receive an additional claim: <code>https://purl.imsglobal.org/spec/lti-dl/claim/deep_linking_settings</code></p><p>This claim contains information about what the platform accepts, and a data field that must be sent back.</p><p>The tool then presents a UI allowing the user to select or create content the tool provides. It can be LTI links, web links, files, images, or html. Learn only supports LTI links and web links at the moment.</p><p>You can return one or more content items, and depending on from where the tool was launched the links will appear in the course outline or the rich text editor. If returned to the rich text editor they can be displayed as hyperlinks or embedded in the editor. See <a href="/docs/lti/lti-deep-linking">Deep Linking JSON</a> for details on how to configure the rendering of LTI links in the rich text editor.</p><div class="author-container_ij9t"><h3>Contributors on this article:</h3><div class="author-cards_jEeG"><div class="author-outer_b49k"><img class="author-background-pic_wyqn" src="/img/author-card-background-light.png" alt="Background image of the author card"><img class="author-profile-pic_k8ky" src="https://avatars.githubusercontent.com/u/539286?v=4" alt="Profile picture of the author"><div class="author-data_BVjh"><p class="author-name_x2RY">Eric Preston</p><p class="author-title_EKWi">Former Staff Software Engineer</p><p class="author-area_XKc_">Integrations, Developer Relations and Standards</p></div><div class="social-links_Ue0W"><a href="https://github.com/ewpreston"><div class="github-logo_RU8s"><img src="/img/gh.png" alt="Logo of GitHub"></div></a></div></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/lti/tutorials/develop-lti-advantage"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Developing an LTI 1.3/Advantage Solution - Recordings and Resources</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/lti/tutorials/names-and-roles"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">LTI Advantage - Names and Roles</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#what-is-lti" class="table-of-contents__link toc-highlight">What is LTI?</a></li><li><a href="#security" class="table-of-contents__link toc-highlight">Security</a></li><li><a href="#registration-information" class="table-of-contents__link toc-highlight">Registration Information</a></li><li><a href="#lti-message-launch-flow" class="table-of-contents__link toc-highlight">LTI Message Launch Flow</a><ul><li><a href="#lti-launch" class="table-of-contents__link toc-highlight">LTI Launch</a></li></ul></li><li><a href="#lti-deep-linking" class="table-of-contents__link toc-highlight">LTI Deep Linking</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Home</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/rest-apis/start-here">REST APIs</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/lti/introduction">LTI</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/standards/standards-intro">Standards</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/developer-portal/start-here">Developer Portal</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/partners/partners-become_a_partner">Partners</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/community/community-intro">Community</a></li><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://join.slack.com/t/blackboardtechies/shared_invite/zt-nheykjth-wLgONrE58MS53H~oySYk1g" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack - Blackboard Techies<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="mailto:developers@anthology.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Anthology Developer Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More...</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://aws.amazon.com/marketplace/seller-profile?id=f6f7de05-e6d2-47f8-96e8-51cc4b38182b" target="_blank" rel="noopener noreferrer" class="footer__link-item">Developer AMI<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/blackboard/anthologydevdocs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub - These docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/search?q=org%3Ablackboard+blackboard%2FBBDN-" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub - Example projects<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2024 Anthology, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.5378dcee.js"></script>
<script src="/assets/js/main.debd867b.js"></script>
</body>
</html>